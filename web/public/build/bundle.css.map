{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte"
  ],
  "sourcesContent": [
    "<script>\n\texport let Title;\n\n\timport { onMount } from 'svelte';\n\n\timport Modal from './Modal.svelte';\n\timport C_Img from './lib/Img.svelte';\n\n\timport { Post } from './lib/net.js';\n\timport { Host, Path_Index, Path_Info } from './lib/const.js';\n\n\tlet _root = \"\";\n\tlet _total = 0;\n\tlet _data = [];\n\n\tlet C_Default = C_Img; // 写一个 default 的组件\n\n\tlet Select = {\n\t\tFileName: \"\",\n\t\tType: \"\",\n\t\tComponent: C_Default,\n\t\tFilePath: \"\",\n\t};\n\t\n\tonMount(async function(){\n\t\tawait GetIndex()\n\t});\n\n\tasync function GetIndex(subPath = \"\"){\n\t\tlet res = await Post(Host + Path_Info);\n\t\t_root = res.Data.Root;\n\t\t_total = res.Data.Total;\n\n\t\tres = await Post(Host + Path_Index,{\n\t\t\tPath: _root + subPath,\n\t\t});\n\t\t_data = res.Data;\n\t}\n\n\tGetIndex();\n\n\tfunction Jump(){\n\t\tconst $this = this;\n\t\tlet isDir = $this.getAttribute(\"data-isDir\");\n\t\tlet fileName = $this.getAttribute(\"data-fileName\");\n\n\t\tif(isDir && isDir !== \"false\") {\n\t\t\tGetIndex(\"/\" + fileName)\n\t\t} else {\n\t\t\tSelect = JSON.parse($this.getAttribute(\"data\"));\n\t\t\tSelect.Type = (fileName.split(\".\").reverse())[0];\n\t\t\tSelect.FilePath = Select.Path + \"/\" + fileName ;\n\t\t\tif([\"jpg\",\"png\",\"jpge\"].indexOf(Select.Type)) {\n\t\t\t\tSelect.Component = C_Img;\n\t\t\t}\n\n\t\t\tdocument.querySelector(\"#modal\").className += \" is-active\";\n\t\t\t// TODO: 打开预览\n\t\t}\n\t}\n\n\tfunction SelectAll(){\n\t\tlet boxs = document.querySelectorAll(\".checkbox\");\n\n\t\tfor(let box of boxs) {\n\t\t\tbox.checked = !box.checked;\n\t\t}\n\t}\n\n</script>\n\n<main>\n\t<div class=\"card\">\n\t\t<header class=\"card-header\">\n\t\t\t<p class=\"title\">{Title}</p>\n\t\t</header>\n\t\t<div class=\"card-content\">\n\t\t\t<div class=\"field\">\n\t\t\t\t<p>\n\t\t\t\t\t根目录: {_root}\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t共 {_total} 个文件\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<button class=\"button is-success\" on:click={SelectAll}>全选/反选</button>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class=\"field\">\n\t\t\t\t<table class=\"table is-fullwidth\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t<th>预览</th>\n\t\t\t\t\t\t<th>文件名</th>\n\t\t\t\t\t\t<th>操作</th>\n\t\t\t\t\t\t<th>修改日期</th>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{#each _data as item}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><input class=\"checkbox\" type=\"checkbox\"></td>\n\t\t\t\t\t\t\t\t<td> <img src=\"\" alt=\"\"> </td>\n\t\t\t\t\t\t\t    <td>\n\t\t\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" on:click={Jump} data-fileName={item.FileName} data-isDir={item.IsDir} data={JSON.stringify(item)}> {item.FileName} </a>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"control\">\n\t\t\t\t\t\t\t\t\t\t<button class=\"button is-primary\">重命名</button>\n\t\t\t\t\t\t\t\t\t\t<button class=\"button is-primary\">删除</button>\n\t\t\t\t\t\t\t\t\t\t<button class=\"button is-primary\">移动到</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{item.LastModify}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<Modal {...Select}/>\n</main>\n\n<style>\n\theader {\n\t\tpadding: 20px 5vw;\n\t}\n</style>\n"
  ],
  "names": [],
  "mappings": "AA4HC,MAAM,cAAC,CAAC,AACP,OAAO,CAAE,IAAI,CAAC,GAAG,AAClB,CAAC"
}